<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö - –ì–∞–∑–ø—Ä–æ–º</title>
    <link rel="stylesheet" href="../style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .data-analyzer {
            max-width: 1200px;
            margin: 2rem auto;
        }
        
        .analyzer-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .data-input {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 2rem;
        }
        
        .data-results {
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 2rem;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        .data-table th, .data-table td {
            border: 1px solid var(--gray);
            padding: 0.75rem;
            text-align: left;
        }
        
        .data-table th {
            background-color: var(--primary-light);
        }
        
        .chart-container {
            height: 300px;
            margin-top: 2rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .stat-card {
            background-color: var(--primary-light);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-dark);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-light);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-container">
                <div class="logo">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Gazprom_logo.svg/1200px-Gazprom_logo.svg.png" alt="–ì–∞–∑–ø—Ä–æ–º" class="logo-img">
                    <div class="logo-text">
                        <span class="logo-title">–ì–∞–∑–ø—Ä–æ–º</span>
                        <span class="logo-subtitle">–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö</span>
                    </div>
                </div>
                
                <nav class="main-nav">
                    <ul class="nav-list">
                        <li class="nav-item"><a href="../index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li class="nav-item"><a href="index.html" class="nav-link">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a></li>
                        <li class="nav-item"><a href="../trainers/index.html" class="nav-link">–¢—Ä–µ–Ω–∞–∂—ë—Ä—ã</a></li>
                        <li class="nav-item"><a href="../visualization/index.html" class="nav-link">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></li>
                        <li class="nav-item"><a href="../ai-assistant/index.html" class="nav-link">–ü–æ–º–æ—â–Ω–∏–∫</a></li>
                    </ul>
                </nav>
                
                <button class="mobile-menu-btn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main class="main">
        <section class="section-header">
            <div class="container">
                <h1 class="section-title">–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö</h1>
                <p class="section-subtitle">–ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –±–∞–∑–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π</p>
            </div>
        </section>

        <section class="data-analyzer">
            <div class="container">
                <div class="analyzer-grid">
                    <div class="data-input">
                        <h3>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                        <div class="form-group">
                            <label for="data-columns">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤:</label>
                            <select id="data-columns" class="form-control" onchange="updateTableStructure()">
                                <option value="2">2</option>
                                <option value="3" selected>3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="data-rows">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫:</label>
                            <select id="data-rows" class="form-control" onchange="updateTableStructure()">
                                <option value="5">5</option>
                                <option value="10" selected>10</option>
                                <option value="15">15</option>
                                <option value="20">20</option>
                            </select>
                        </div>
                        
                        <button class="btn btn-primary" onclick="loadSampleData()">
                            <i class="fas fa-database"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
                        </button>
                        
                        <table class="data-table" id="input-table">
                            <thead>
                                <tr id="header-row">
                                    <th>–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å</th>
                                    <th>2022</th>
                                    <th>2023</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="data-results">
                        <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h3>
                        
                        <div class="stats-grid" id="stats-container">
                            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
                        </div>
                        
                        <div class="chart-container">
                            <canvas id="analysis-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-container">
                <div class="footer-column">
                    <h4 class="footer-title">–ì–∞–∑–ø—Ä–æ–º</h4>
                    <p class="footer-text">–ö—Ä—É–ø–Ω–µ–π—à–∞—è –≥–∞–∑–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è –º–∏—Ä–∞, –ª–∏–¥–µ—Ä –≤ –æ–±–ª–∞—Å—Ç–∏ —Ä–∞–∑–≤–µ–¥–∫–∏, –¥–æ–±—ã—á–∏, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —Ö—Ä–∞–Ω–µ–Ω–∏—è, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–≥–ª–µ–≤–æ–¥–æ—Ä–æ–¥–æ–≤.</p>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html" class="footer-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="index.html" class="footer-link">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a></li>
                        <li><a href="../trainers/index.html" class="footer-link">–¢—Ä–µ–Ω–∞–∂—ë—Ä—ã</a></li>
                        <li><a href="../visualization/index.html" class="footer-link">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4 class="footer-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                    <ul class="footer-contacts">
                        <li class="contact-item">
                            <span class="contact-icon">üìû</span>
                            <span>+7 (495) 719-30-01</span>
                        </li>
                        <li class="contact-item">
                            <span class="contact-icon">‚úâÔ∏è</span>
                            <span>portal@gazprom.ru</span>
                        </li>
                        <li class="contact-item">
                            <span class="contact-icon">üìç</span>
                            <span>–ú–æ—Å–∫–≤–∞, —É–ª. –ù–∞–º–µ—Ç–∫–∏–Ω–∞, 16</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>¬© 2025 –ü–ê–û "–ì–∞–∑–ø—Ä–æ–º". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                <div class="footer-links">
                    <a href="#" class="footer-link">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                    <a href="#" class="footer-link">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        let analysisChart = null;
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã
        function updateTableStructure() {
            const columns = parseInt(document.getElementById('data-columns').value);
            const rows = parseInt(document.getElementById('data-rows').value);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
            const headerRow = document.getElementById('header-row');
            headerRow.innerHTML = '<th>–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å</th>';
            
            for (let i = 1; i < columns; i++) {
                headerRow.innerHTML += `<th>${2022 + i}</th>`;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–ª–æ —Ç–∞–±–ª–∏—Ü—ã
            const tableBody = document.getElementById('table-body');
            tableBody.innerHTML = '';
            
            for (let i = 0; i < rows; i++) {
                const row = document.createElement('tr');
                row.innerHTML = `<td><input type="text" value="–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å ${i + 1}"></td>`;
                
                for (let j = 1; j < columns; j++) {
                    row.innerHTML += `<td><input type="number" value="${Math.floor(Math.random() * 1000)}"></td>`;
                }
                
                tableBody.appendChild(row);
            }
            
            analyzeData();
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
        function loadSampleData() {
            const sampleData = [
                ["–î–æ–±—ã—á–∞ –≥–∞–∑–∞", 12500, 13200, 14000],
                ["–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–∞–∑–∞", 11800, 12500, 13200],
                ["–í—ã—Ä—É—á–∫–∞", 45200, 47800, 50300],
                ["–†–∞—Å—Ö–æ–¥—ã", 28500, 29300, 30200],
                ["–ü—Ä–∏–±—ã–ª—å", 16700, 18500, 20100],
                ["–ö–∞–ø–∏—Ç–∞–ª—å–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è", 8900, 9200, 9500],
                ["–ß–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞", 478, 482, 490],
                ["–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", 26.2, 27.4, 28.6],
                ["–î–æ–ª—è –Ω–∞ —Ä—ã–Ω–∫–µ", 17.2, 17.8, 18.3],
                ["ROI", 12.5, 13.2, 14.1]
            ];
            
            document.getElementById('data-columns').value = "4";
            document.getElementById('data-rows').value = "10";
            updateTableStructure();
            
            const tableBody = document.getElementById('table-body');
            const inputs = tableBody.querySelectorAll('input');
            
            let inputIndex = 0;
            sampleData.forEach(row => {
                row.forEach(value => {
                    if (inputIndex < inputs.length) {
                        inputs[inputIndex].value = value;
                        inputIndex++;
                    }
                });
            });
            
            analyzeData();
        }
        
        // –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
        function analyzeData() {
            const table = document.getElementById('input-table');
            const rows = table.querySelectorAll('tbody tr');
            const headers = table.querySelectorAll('thead th');
            
            if (rows.length === 0 || headers.length < 2) return;
            
            const statsContainer = document.getElementById('stats-container');
            statsContainer.innerHTML = '';
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º
            const columns = [];
            for (let i = 1; i < headers.length; i++) {
                columns.push({
                    name: headers[i].textContent,
                    values: [],
                    sum: 0,
                    min: Infinity,
                    max: -Infinity
                });
            }
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                for (let i = 1; i < cells.length && i - 1 < columns.length; i++) {
                    const value = parseFloat(cells[i].querySelector('input').value) || 0;
                    columns[i - 1].values.push(value);
                    columns[i - 1].sum += value;
                    columns[i - 1].min = Math.min(columns[i - 1].min, value);
                    columns[i - 1].max = Math.max(columns[i - 1].max, value);
                }
            });
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            columns.forEach(col => {
                col.avg = col.sum / col.values.length;
                
                // –î–∏—Å–ø–µ—Ä—Å–∏—è
                let variance = 0;
                col.values.forEach(val => {
                    variance += Math.pow(val - col.avg, 2);
                });
                col.variance = variance / col.values.length;
                col.stdDev = Math.sqrt(col.variance);
            });
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            columns.forEach(col => {
                statsContainer.innerHTML += `
                    <div class="stat-card">
                        <div class="stat-value">${col.name}</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ: ${col.avg.toFixed(2)}</div>
                        <div class="stat-label">–ú–∏–Ω/–ú–∞–∫—Å: ${col.min.toFixed(2)} / ${col.max.toFixed(2)}</div>
                        <div class="stat-label">–°—Ç. –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: ${col.stdDev.toFixed(2)}</div>
                    </div>
                `;
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫
            updateChart(columns);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
        function updateChart(columns) {
            const ctx = document.getElementById('analysis-chart').getContext('2d');
            const labels = [];
            const datasets = [];
            
            // –ü–µ—Ä–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü - —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
            const tableBody = document.getElementById('table-body');
            const rows = tableBody.querySelectorAll('tr');
            
            rows.forEach(row => {
                const firstCell = row.querySelector('td:first-child input');
                if (firstCell) {
                    labels.push(firstCell.value);
                }
            });
            
        }
    