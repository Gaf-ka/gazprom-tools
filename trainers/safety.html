<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тренажёр по технике безопасности - Газпром</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        .trainer-container {
            max-width: 800px;
            margin: 2rem auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .trainer-header {
            padding: 1.5rem;
            background-color: var(--primary-color);
            color: white;
        }
        
        .trainer-progress {
            height: 5px;
            background-color: #ddd;
        }
        
        .trainer-progress-bar {
            height: 100%;
            background-color: var(--accent-color);
            width: 0%;
            transition: width 0.3s;
        }
        
        .trainer-content {
            padding: 2rem;
        }
        
        .trainer-question {
            margin-bottom: 2rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .trainer-options {
            display: grid;
            gap: 1rem;
        }
        
        .trainer-option {
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .trainer-option:hover {
            background-color: #f5f5f5;
        }
        
        .trainer-option.selected {
            background-color: #e6f7ff;
            border-color: var(--primary-color);
        }
        
        .trainer-option.correct {
            background-color: #e6ffed;
            border-color: #4CAF50;
        }
        
        .trainer-option.incorrect {
            background-color: #ffebee;
            border-color: #f44336;
        }
        
        .trainer-footer {
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            border-top: 1px solid #eee;
        }
        
        .trainer-results {
            text-align: center;
            padding: 2rem;
        }
        
        .trainer-results h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .trainer-score {
            font-size: 2rem;
            font-weight: bold;
            margin: 1rem 0;
            color: var(--primary-color);
        }
        
        .trainer-feedback {
            margin: 1rem 0;
            padding: 1rem;
            background-color: #f5f5f5;
            border-radius: 4px;
        }
        
        .trainer-restart {
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="https://www.gazprom.com/f/i/logo.png" alt="Газпром">
            <h1>Тренажёр по технике безопасности</h1>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html">Главная</a></li>
                <li><a href="../office-tools/index.html">Офисные инструменты</a></li>
                <li><a href="index.html">Тренажёры</a></li>
                <li><a href="../visualization/index.html">Визуализация данных</a></li>
                <li><a href="../ai-assistant/index.html">ИИ помощник</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="welcome">
            <h2>Техника безопасности на рабочем месте</h2>
            <p>Пройдите тест и проверьте свои знания по технике безопасности в офисе.</p>
        </section>

        <div class="trainer-container" id="trainer-container">
            <div class="trainer-header">
                <h3 id="trainer-title">Техника безопасности</h3>
            </div>
            <div class="trainer-progress">
                <div class="trainer-progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="trainer-content" id="trainer-content">
                <!-- Контент тренажёра будет загружен сюда -->
            </div>
        </div>
    </main>

    <footer>
        <p>© 2023 Газпром. Все права защищены.</p>
        <p>Внутренний портал для сотрудников</p>
    </footer>

    <script>
        // Вопросы для тренажёра
        const questions = [
            {
                question: "Что необходимо сделать в первую очередь при обнаружении возгорания в офисе?",
                options: [
                    "Попытаться потушить огонь самостоятельно",
                    "Немедленно сообщить о возгорании по телефону 112 или внутреннему номеру службы безопасности",
                    "Продолжить работать, если огонь небольшой",
                    "Начать эвакуацию, не сообщая никому о возгорании"
                ],
                correctAnswer: 1,
                feedback: "Правильно! При обнаружении возгорания необходимо немедленно сообщить о нем по телефону 112 или внутреннему номеру службы безопасности, затем следовать инструкциям по эвакуации."
            },
            {
                question: "Как часто необходимо проверять исправность огнетушителей в офисе?",
                options: [
                    "Раз в месяц",
                    "Раз в квартал",
                    "Раз в полгода",
                    "Раз в год"
                ],
                correctAnswer: 3,
                feedback: "Правильно! Огнетушители должны проверяться не реже одного раза в год специализированной организацией."
            },
            {
                question: "Какое максимальное количество времени можно непрерывно работать за компьютером без перерыва?",
                options: [
                    "1 час",
                    "2 часа",
                    "4 часа",
                    "Не ограничено, если чувствуете себя хорошо"
                ],
                correctAnswer: 1,
                feedback: "Правильно! Согласно нормам, после каждых 2 часов работы за компьютером необходимо делать перерыв не менее 15 минут."
            },
            {
                question: "Что делать, если вы обнаружили подозрительный предмет в офисе?",
                options: [
                    "Осмотреть предмет самостоятельно",
                    "Взять предмет и отнести в службу безопасности",
                    "Не трогать предмет, сообщить в службу безопасности и предупредить коллег",
                    "Выбросить предмет в мусорное ведро"
                ],
                correctAnswer: 2,
                feedback: "Правильно! При обнаружении подозрительного предмета нельзя его трогать, нужно немедленно сообщить в службу безопасности и предупредить коллег."
            },
            {
                question: "Как правильно организовать рабочее место для профилактики болей в спине?",
                options: [
                    "Сиденье стула должно быть выше уровня колен",
                    "Монитор должен находиться на уровне глаз или чуть ниже",
                    "Клавиатура должна располагаться как можно дальше от края стола",
                    "Все перечисленные варианты"
                ],
                correctAnswer: 3,
                feedback: "Правильно! Все перечисленные меры помогают правильно организовать рабочее место и снизить нагрузку на позвоночник."
            }
        ];
        
        // Переменные тренажёра
        let currentQuestion = 0;
        let score = 0;
        let selectedAnswer = null;
        
        // Инициализация тренажёра
        document.addEventListener('DOMContentLoaded', function() {
            loadQuestion();
        });
        
        // Загрузка вопроса
        function loadQuestion() {
            if (currentQuestion >= questions.length) {
                showResults();
                return;
            }
            
            const question = questions[currentQuestion];
            const trainerContent = document.getElementById('trainer-content');
            
            trainerContent.innerHTML = `
                <div class="trainer-question">
                    <p>Вопрос ${currentQuestion + 1} из ${questions.length}</p>
                    <h4>${question.question}</h4>
                </div>
                <div class="trainer-options" id="options-container">
                    ${question.options.map((option, index) => `
                        <div class="trainer-option" onclick="selectAnswer(${index})" data-answer="${index}">
                            ${option}
                        </div>
                    `).join('')}
                </div>
                <div class="trainer-footer">
                    <div id="question-feedback"></div>
                    <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Далее</button>
                </div>
            `;
            
            // Обновление прогресса
            document.getElementById('progress-bar').style.width = `${(currentQuestion / questions.length) * 100}%`;
        }
        
        // Выбор ответа
        function selectAnswer(index) {
            const options = document.querySelectorAll('.trainer-option');
            options.forEach(option => option.classList.remove('selected'));
            
            options[index].classList.add('selected');
            selectedAnswer = index;
            document.getElementById('next-btn').disabled = false;
        }
        
        // Переход к следующему вопросу
        function nextQuestion() {
            const question = questions[currentQuestion];
            const options = document.querySelectorAll('.trainer-option');
            const feedback = document.getElementById('question-feedback');
            
            // Проверка ответа
            if (selectedAnswer === question.correctAnswer) {
                score++;
                options[selectedAnswer].classList.add('correct');
                feedback.innerHTML = '<span style="color: green;">✓ Правильно!</span>';
            } else {
                options[selectedAnswer].classList.add('incorrect');
                options[question.correctAnswer].classList.add('correct');
                feedback.innerHTML = '<span style="color: red;">✗ Неправильно. Правильный ответ выделен зеленым.</span>';
            }
            
            // Отключение кнопок
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            document.getElementById('next-btn').textContent = currentQuestion + 1 === questions.length ? 'Завершить' : 'Следующий вопрос';
            document.getElementById('next-btn').onclick = function() {
                currentQuestion++;
                loadQuestion();
            };
        }
        
        // Показ результатов
        function showResults() {
            const trainerContent = document.getElementById('trainer-content');
            const percentage = Math.round((score / questions.length) * 100);
            
            trainerContent.innerHTML = `
                <div class="trainer-results">
                    <h3>Тест завершен!</h3>
                    <p>Вы ответили правильно на ${score} из ${questions.length} вопросов.</p>
                    <div class="trainer-score">${percentage}%</div>
                    
                    <div class="trainer-feedback">
                        ${percentage >= 80 ? 
                            'Отличный результат! Вы хорошо знаете правила техники безопасности.' : 
                            percentage >= 50 ? 
                            'Неплохой результат, но есть куда стремиться. Рекомендуем повторить материалы по технике безопасности.' : 
                            'Результат ниже среднего. Настоятельно рекомендуем изучить материалы по технике безопасности.'}
                    </div>
                    
                    <button class="btn trainer-restart" onclick="restartTrainer()">Пройти тест снова</button>
                </div>
            `;
            
            document.getElementById('progress-bar').style.width = '100%';
        }
        
        // Перезапуск тренажёра
        function restartTrainer() {
            currentQuestion = 0;
            score = 0;
            selectedAnswer = null;
            loadQuestion();
        }
    </script>
</body>
</html>